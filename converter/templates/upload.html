<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Convertisseur TEIA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {% load static %}
  <link rel="stylesheet" href="{% static 'converter/css/style.css' %}"> 
</head>
<body>
  <nav class="navbar">
    <div class="navbar-container">
      <span class="navbar-logo">Convertisseur TEIA</span>
      <ul class="navbar-links">
        <li><a href="#formulaire">ğŸ“„ GÃ©nÃ©rer un ZIP</a></li>
        <li><a href="#tuto">ğŸ“˜ Tutoriel</a></li>
        <li><a href="#video">ğŸ¥ VidÃ©o</a></li>
      </ul>
    </div>
  </nav>  
  <header>
    <h1>Convertisseur de QI / KFP - TEIA</h1>
    <p>DÃ©posez votre fichier .docx pour gÃ©nÃ©rer un export automatiquement</p>
    <strong> Veuillez regarder le modÃ¨le </strong>
  </header>
  <main id="formulaire">
    <p style="text-align: center; margin-bottom: 20px;">
      <a href="{% static 'converter/template.docx' %}" download class="button-download">
        ğŸ“„ TÃ©lÃ©charger le modÃ¨le .docx
      </a>
    </p>
    
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit">GÃ©nÃ©rer le ZIP</button>
    </form>
    {% if zip_url %}
    <script>
      window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    </script>
    {% endif %}

  </main>

  <section class="tuto reveal" id="tuto">
    <h2>Comment Ã§a marche ?</h2>
    <ol>
      <li>Lâ€™appli ne prend pas en charge TCS ni les Zones Ã  pointer </li>
      <li>le chargement des images (les questions peuvent Ãªtre prÃ©parÃ©es mais il faudra insÃ©rer les images aprÃ¨s)</li>
      <li>PrÃ©parez votre fichier Word avec la bonne structure (QI ou KFP bien identifiÃ©s). <a href="{% static 'converter/template.docx' %}">
        ğŸ“„ TÃ©lÃ©charger le modÃ¨le .docx
      </a><strong>Veillez Ã  bien respecter les indications du Template </strong></li>
      <li>Renseigner les champs : discipline, session, titulaire, annÃ©e.</li>
      <li>DÃ©poser le fichier .docx et cliquer sur "GÃ©nÃ©rer le ZIP".</li>
      <li>Un seul fichier ZIP sera proposÃ© en tÃ©lÃ©chargement. Il contient les exports Moodle: un zip pour tous les QI et un zip par KFP. Les questions seront automatiquement nommÃ©es</li>
      <li>Rendez-vous sur Teia et cliquez sur "Importer" puis:</li>
      <ul><li>DÃ©compresser le dossier compressÃ© tÃ©lÃ©chargÃ©</li>
      <li>Glisser-dÃ©poser le fichier "gift_output.zip" et validÃ© l'import </li>
    <li>De mÃªme pour chaque fichier KFP mais <strong>il faut sÃ©lectionner "QTI" dans l'import</strong> et glisser le fichiers de chaque KFP</li></ul>
    </ol>
    <h3 id="video" style="text-align: center; margin-top: 40px;">ğŸ“¹ DÃ©monstration vidÃ©o</h3>
      <div style="display: flex; justify-content: center;">
      <video width="600" controls>
      <source src="{% static 'converter/videos/tuto.mp4' %}" type="video/mp4">
      Votre navigateur ne supporte pas la vidÃ©o HTML5.
      </video>
</div>

  </section>
  <script>
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('fade-in');
          observer.unobserve(entry.target);
        }
      });
    });
  
    document.querySelectorAll('.reveal').forEach((el) => {
      observer.observe(el);
    });
  </script> 
  <footer style="text-align: center; padding: 20px; font-size: 0.9em; color: #777;">
    <p>RÃ©alisÃ© par Dr Edouard Baudouin (Paul Brousse) â€” projet libre Ã  usage pÃ©dagogique </br>
    github: </p>
   </footer>
</body>
</html>
